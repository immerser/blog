
 <!DOCTYPE HTML>
<html lang="Chinese">
<head>
  <meta charset="UTF-8">
  
    <title>你家亮哥的学习笔记</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="你家亮哥">
    

    
    <meta name="description" content="IntroductionRoles resource owner resource server client authorization serverProtocol Flow1234567891011121314151617+--------+                               +---------------+|        |--(A)- Authorizati">
<meta property="og:type" content="article">
<meta property="og:title" content="你家亮哥的学习笔记">
<meta property="og:url" content="https://immerser.github.io/2018/01/20/OAuth2官方文档阅读/index.html">
<meta property="og:site_name" content="你家亮哥的学习笔记">
<meta property="og:description" content="IntroductionRoles resource owner resource server client authorization serverProtocol Flow1234567891011121314151617+--------+                               +---------------+|        |--(A)- Authorizati">
<meta property="og:locale" content="Chinese">
<meta property="og:updated_time" content="2018-01-19T15:39:32.004Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="你家亮哥的学习笔记">
<meta name="twitter:description" content="IntroductionRoles resource owner resource server client authorization serverProtocol Flow1234567891011121314151617+--------+                               +---------------+|        |--(A)- Authorizati">

    
    <link rel="alternative" href="/atom.xml" title="你家亮哥的学习笔记" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="你家亮哥的学习笔记">你家亮哥的学习笔记</a></h1>
				<h2 class="blog-motto">---notebook of cloud,dev ops,language</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="Menu">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
						<li><a href="/about">About</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="Search" />
						<input type="hidden" name="q" value="site:immerser.github.io">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
  
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2018/01/20/OAuth2官方文档阅读/" title="" itemprop="url"></a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="你家亮哥" target="_blank" itemprop="author">你家亮哥</a>
		
  <p class="article-time">
    <time datetime="2018-01-20T15:44:38.974Z" itemprop="datePublished"> Published 2018-01-20</time>
    
  </p>
</header>
	<div class="article-content">
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">Contents</strong>
		
			<ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Introduction"><span class="toc-number">1.</span> <span class="toc-text">Introduction</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Roles"><span class="toc-number">1.1.</span> <span class="toc-text">Roles</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Protocol-Flow"><span class="toc-number">1.2.</span> <span class="toc-text">Protocol Flow</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Authorization-Grant"><span class="toc-number">1.3.</span> <span class="toc-text">Authorization Grant</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Authorization-Code"><span class="toc-number">1.3.0.1.</span> <span class="toc-text">Authorization Code</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Implicit"><span class="toc-number">1.3.0.2.</span> <span class="toc-text">Implicit</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Resource-Owner-Password-Credentials"><span class="toc-number">1.3.0.3.</span> <span class="toc-text">Resource Owner Password Credentials</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Client-Credentials"><span class="toc-number">1.3.0.4.</span> <span class="toc-text">Client Credentials</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Access-Token"><span class="toc-number">1.4.</span> <span class="toc-text">Access Token</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Refresh-Token"><span class="toc-number">1.5.</span> <span class="toc-text">Refresh Token</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#TLS-Version"><span class="toc-number">1.5.1.</span> <span class="toc-text">TLS Version</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HTTP-Redirections"><span class="toc-number">1.5.2.</span> <span class="toc-text">HTTP Redirections</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Interoperability"><span class="toc-number">1.5.3.</span> <span class="toc-text">Interoperability</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Notational-Conventions"><span class="toc-number">1.5.4.</span> <span class="toc-text">Notational Conventions</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Client-Registration"><span class="toc-number">1.6.</span> <span class="toc-text">Client Registration</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Client-Types"><span class="toc-number">1.6.1.</span> <span class="toc-text">Client Types</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Client-Identifier"><span class="toc-number">1.6.2.</span> <span class="toc-text">Client Identifier</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Client-Authentication"><span class="toc-number">1.6.3.</span> <span class="toc-text">Client Authentication</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Client-Password"><span class="toc-number">1.6.3.1.</span> <span class="toc-text">Client Password</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Other-Authentication-Methods"><span class="toc-number">1.6.4.</span> <span class="toc-text">Other Authentication Methods</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Unregistered-Clients"><span class="toc-number">1.6.5.</span> <span class="toc-text">Unregistered Clients</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Protocol-Endpoints"><span class="toc-number">1.7.</span> <span class="toc-text">Protocol Endpoints</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Authorization-Endpoint"><span class="toc-number">1.7.1.</span> <span class="toc-text">Authorization Endpoint</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Response-Type"><span class="toc-number">1.7.1.1.</span> <span class="toc-text">Response Type</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Redirection-Endpoint"><span class="toc-number">1.7.1.2.</span> <span class="toc-text">Redirection Endpoint</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Token-Endpoint"><span class="toc-number">1.7.2.</span> <span class="toc-text">Token Endpoint</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Client-Authentication-1"><span class="toc-number">1.7.2.1.</span> <span class="toc-text">Client Authentication</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Access-Token-Scope"><span class="toc-number">1.7.3.</span> <span class="toc-text">Access Token Scope</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Obtaining-Authorization"><span class="toc-number">2.</span> <span class="toc-text">Obtaining Authorization</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Authorization-Code-Grant"><span class="toc-number">2.1.</span> <span class="toc-text">Authorization Code Grant</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Authorization-Request-…………………………25"><span class="toc-number">2.1.1.</span> <span class="toc-text">Authorization Request …………………………25</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Authorization-Response-………………………-26"><span class="toc-number">2.1.2.</span> <span class="toc-text">Authorization Response ………………………..26</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Access-Token-Request-…………………………-29"><span class="toc-number">2.1.3.</span> <span class="toc-text">Access Token Request ………………………….29</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Access-Token-Response-…………………………30"><span class="toc-number">2.1.4.</span> <span class="toc-text">Access Token Response …………………………30</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Implicit-Grant"><span class="toc-number">2.2.</span> <span class="toc-text">Implicit Grant</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Authorization-Request-…………………………33"><span class="toc-number">2.2.1.</span> <span class="toc-text">Authorization Request …………………………33</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Access-Token-Response-…………………………35"><span class="toc-number">2.2.2.</span> <span class="toc-text">Access Token Response …………………………35</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Resource-Owner-Password-Credentials-Grant"><span class="toc-number">2.3.</span> <span class="toc-text">Resource Owner Password Credentials Grant</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#uthorization-Request-and-Response"><span class="toc-number">2.3.1.</span> <span class="toc-text">uthorization Request and Response</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Access-Token-Request"><span class="toc-number">2.3.2.</span> <span class="toc-text">Access Token Request</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Access-Token-Response"><span class="toc-number">2.3.3.</span> <span class="toc-text">Access Token Response</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Client-Credentials-Grant"><span class="toc-number">2.4.</span> <span class="toc-text">Client Credentials Grant</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Authorization-Request-and-Response"><span class="toc-number">2.4.1.</span> <span class="toc-text">Authorization Request and Response</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Access-Token-Request-1"><span class="toc-number">2.4.2.</span> <span class="toc-text">Access Token Request</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Access-Token-Response-1"><span class="toc-number">2.4.3.</span> <span class="toc-text">Access Token Response</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Extension-Grants"><span class="toc-number">2.4.4.</span> <span class="toc-text">Extension Grants</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Issuing-an-Access-Token"><span class="toc-number">2.4.5.</span> <span class="toc-text">Issuing an Access Token</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Successful-Response"><span class="toc-number">2.4.6.</span> <span class="toc-text">Successful Response</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Error-Response"><span class="toc-number">2.4.7.</span> <span class="toc-text">Error Response</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Refreshing-an-Access-Token"><span class="toc-number">2.5.</span> <span class="toc-text">Refreshing an Access Token</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Accessing-Protected-Resources"><span class="toc-number">2.6.</span> <span class="toc-text">Accessing Protected Resources</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Access-Token-Types"><span class="toc-number">2.6.1.</span> <span class="toc-text">Access Token Types</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Error-Response-1"><span class="toc-number">2.6.2.</span> <span class="toc-text">Error Response</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Extensibility"><span class="toc-number">2.7.</span> <span class="toc-text">Extensibility</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Defining-Access-Token-Types"><span class="toc-number">2.7.1.</span> <span class="toc-text">Defining Access Token Types</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Defining-New-Endpoint-Parameters"><span class="toc-number">2.7.2.</span> <span class="toc-text">Defining New Endpoint Parameters</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Defining-New-Authorization-Grant-Types"><span class="toc-number">2.7.3.</span> <span class="toc-text">Defining New Authorization Grant Types</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Defining-New-Authorization-Endpoint-Response-Types"><span class="toc-number">2.7.4.</span> <span class="toc-text">Defining New Authorization Endpoint Response Types</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Defining-Additional-Error-Codes"><span class="toc-number">2.7.5.</span> <span class="toc-text">Defining Additional Error Codes</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Native-Applications"><span class="toc-number">2.8.</span> <span class="toc-text">Native Applications</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Security-Considerations"><span class="toc-number">2.9.</span> <span class="toc-text">Security Considerations</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Client-Authentication-2"><span class="toc-number">2.9.1.</span> <span class="toc-text">Client Authentication</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Client-Impersonation"><span class="toc-number">2.9.2.</span> <span class="toc-text">Client Impersonation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Access-Tokens"><span class="toc-number">2.9.3.</span> <span class="toc-text">Access Tokens</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Refresh-Tokens"><span class="toc-number">2.9.4.</span> <span class="toc-text">Refresh Tokens</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Authorization-Codes"><span class="toc-number">2.9.5.</span> <span class="toc-text">Authorization Codes</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Authorization-Code-Redirection-URI-Manipulation"><span class="toc-number">2.9.6.</span> <span class="toc-text">Authorization Code Redirection URI Manipulation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Resource-Owner-Password-Credentials-1"><span class="toc-number">2.9.7.</span> <span class="toc-text">Resource Owner Password Credentials</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Request-Confidentiality"><span class="toc-number">2.9.8.</span> <span class="toc-text">Request Confidentiality</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Ensuring-Endpoint-Authenticity"><span class="toc-number">2.9.9.</span> <span class="toc-text">Ensuring Endpoint Authenticity</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Credentials-Guessing-Attacks"><span class="toc-number">2.9.10.</span> <span class="toc-text">Credentials-Guessing Attacks</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Phishing-Attacks"><span class="toc-number">2.9.11.</span> <span class="toc-text">Phishing Attacks</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Cross-Site-Request-Forgery"><span class="toc-number">2.9.12.</span> <span class="toc-text">Cross-Site Request Forgery</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Clickjacking"><span class="toc-number">2.9.13.</span> <span class="toc-text">Clickjacking</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Code-Injection-and-Input-Validation"><span class="toc-number">2.9.14.</span> <span class="toc-text">Code Injection and Input Validation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Open-Redirectors"><span class="toc-number">2.9.15.</span> <span class="toc-text">Open Redirectors</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Misuse-of-Access-Token-to-Impersonate-Resource-Owner-in-Implicit-Flow"><span class="toc-number">2.9.16.</span> <span class="toc-text">Misuse of Access Token to Impersonate Resource Owner in Implicit Flow</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IANA-Considerations-……………………………………-62"><span class="toc-number">2.10.</span> <span class="toc-text">IANA Considerations …………………………………….62</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Appendix-A-Augmented-Backus-Naur-Form-ABNF-Syntax-…………-71"><span class="toc-number">3.</span> <span class="toc-text">Appendix A. Augmented Backus-Naur Form (ABNF) Syntax …………..71</span></a></li></ol>
		
		</div>
		
		<h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><h2 id="Roles"><a href="#Roles" class="headerlink" title="Roles"></a>Roles</h2><ul>
<li>resource owner</li>
<li>resource server</li>
<li>client</li>
<li>authorization server<h2 id="Protocol-Flow"><a href="#Protocol-Flow" class="headerlink" title="Protocol Flow"></a>Protocol Flow</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">+--------+                               +---------------+</span><br><span class="line">|        |--(A)- Authorization Request -&gt;|   Resource    |</span><br><span class="line">|        |                               |     Owner     |</span><br><span class="line">|        |&lt;-(B)-- Authorization Grant ---|               |</span><br><span class="line">|        |                               +---------------+</span><br><span class="line">|        |</span><br><span class="line">|        |                               +---------------+</span><br><span class="line">|        |--(C)-- Authorization Grant --&gt;| Authorization |</span><br><span class="line">| Client |                               |     Server    |</span><br><span class="line">|        |&lt;-(D)----- Access Token -------|               |</span><br><span class="line">|        |                               +---------------+</span><br><span class="line">|        |</span><br><span class="line">|        |                               +---------------+</span><br><span class="line">|        |--(E)----- Access Token ------&gt;|    Resource   |</span><br><span class="line">|        |                               |     Server    |</span><br><span class="line">|        |&lt;-(F)--- Protected Resource ---|               |</span><br><span class="line">+--------+                               +---------------+</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="Authorization-Grant"><a href="#Authorization-Grant" class="headerlink" title="Authorization Grant"></a>Authorization Grant</h2><h4 id="Authorization-Code"><a href="#Authorization-Code" class="headerlink" title="Authorization Code"></a>Authorization Code</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="Implicit"><a href="#Implicit" class="headerlink" title="Implicit"></a>Implicit</h4><h4 id="Resource-Owner-Password-Credentials"><a href="#Resource-Owner-Password-Credentials" class="headerlink" title="Resource Owner Password Credentials"></a>Resource Owner Password Credentials</h4><h4 id="Client-Credentials"><a href="#Client-Credentials" class="headerlink" title="Client Credentials"></a>Client Credentials</h4><h2 id="Access-Token"><a href="#Access-Token" class="headerlink" title="Access Token"></a>Access Token</h2><h2 id="Refresh-Token"><a href="#Refresh-Token" class="headerlink" title="Refresh Token"></a>Refresh Token</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">+--------+                                           +---------------+</span><br><span class="line">|        |--(A)------- Authorization Grant ---------&gt;|               |</span><br><span class="line">|        |                                           |               |</span><br><span class="line">|        |&lt;-(B)----------- Access Token -------------|               |</span><br><span class="line">|        |               &amp; Refresh Token             |               |</span><br><span class="line">|        |                                           |               |</span><br><span class="line">|        |                            +----------+   |               |</span><br><span class="line">|        |--(C)---- Access Token ----&gt;|          |   |               |</span><br><span class="line">|        |                            |          |   |               |</span><br><span class="line">|        |&lt;-(D)- Protected Resource --| Resource |   | Authorization |</span><br><span class="line">| Client |                            |  Server  |   |     Server    |</span><br><span class="line">|        |--(E)---- Access Token ----&gt;|          |   |               |</span><br><span class="line">|        |                            |          |   |               |</span><br><span class="line">|        |&lt;-(F)- Invalid Token Error -|          |   |               |</span><br><span class="line">|        |                            +----------+   |               |</span><br><span class="line">|        |                                           |               |</span><br><span class="line">|        |--(G)----------- Refresh Token -----------&gt;|               |</span><br><span class="line">|        |                                           |               |</span><br><span class="line">|        |&lt;-(H)----------- Access Token -------------|               |</span><br><span class="line">+--------+           &amp; Optional Refresh Token        +---------------+</span><br></pre></td></tr></table></figure>
<h3 id="TLS-Version"><a href="#TLS-Version" class="headerlink" title="TLS Version"></a>TLS Version</h3><h3 id="HTTP-Redirections"><a href="#HTTP-Redirections" class="headerlink" title="HTTP Redirections"></a>HTTP Redirections</h3><h3 id="Interoperability"><a href="#Interoperability" class="headerlink" title="Interoperability"></a>Interoperability</h3><h3 id="Notational-Conventions"><a href="#Notational-Conventions" class="headerlink" title="Notational Conventions"></a>Notational Conventions</h3><h2 id="Client-Registration"><a href="#Client-Registration" class="headerlink" title="Client Registration"></a>Client Registration</h2><h3 id="Client-Types"><a href="#Client-Types" class="headerlink" title="Client Types"></a>Client Types</h3><h3 id="Client-Identifier"><a href="#Client-Identifier" class="headerlink" title="Client Identifier"></a>Client Identifier</h3><h3 id="Client-Authentication"><a href="#Client-Authentication" class="headerlink" title="Client Authentication"></a>Client Authentication</h3><h4 id="Client-Password"><a href="#Client-Password" class="headerlink" title="Client Password"></a>Client Password</h4><h3 id="Other-Authentication-Methods"><a href="#Other-Authentication-Methods" class="headerlink" title="Other Authentication Methods"></a>Other Authentication Methods</h3><h3 id="Unregistered-Clients"><a href="#Unregistered-Clients" class="headerlink" title="Unregistered Clients"></a>Unregistered Clients</h3><h2 id="Protocol-Endpoints"><a href="#Protocol-Endpoints" class="headerlink" title="Protocol Endpoints"></a>Protocol Endpoints</h2><h3 id="Authorization-Endpoint"><a href="#Authorization-Endpoint" class="headerlink" title="Authorization Endpoint"></a>Authorization Endpoint</h3><h4 id="Response-Type"><a href="#Response-Type" class="headerlink" title="Response Type"></a>Response Type</h4><h4 id="Redirection-Endpoint"><a href="#Redirection-Endpoint" class="headerlink" title="Redirection Endpoint"></a>Redirection Endpoint</h4><h3 id="Token-Endpoint"><a href="#Token-Endpoint" class="headerlink" title="Token Endpoint"></a>Token Endpoint</h3><h4 id="Client-Authentication-1"><a href="#Client-Authentication-1" class="headerlink" title="Client Authentication"></a>Client Authentication</h4><h3 id="Access-Token-Scope"><a href="#Access-Token-Scope" class="headerlink" title="Access Token Scope"></a>Access Token Scope</h3><h1 id="Obtaining-Authorization"><a href="#Obtaining-Authorization" class="headerlink" title="Obtaining Authorization"></a>Obtaining Authorization</h1><h2 id="Authorization-Code-Grant"><a href="#Authorization-Code-Grant" class="headerlink" title="Authorization Code Grant"></a>Authorization Code Grant</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">+----------+</span><br><span class="line">| Resource |</span><br><span class="line">|   Owner  |</span><br><span class="line">|          |</span><br><span class="line">+----------+</span><br><span class="line">     ^</span><br><span class="line">     |</span><br><span class="line">    (B)</span><br><span class="line">+----|-----+          Client Identifier      +---------------+</span><br><span class="line">|         -+----(A)-- &amp; Redirection URI ----&gt;|               |</span><br><span class="line">|  User-   |                                 | Authorization |</span><br><span class="line">|  Agent  -+----(B)-- User authenticates ---&gt;|     Server    |</span><br><span class="line">|          |                                 |               |</span><br><span class="line">|         -+----(C)-- Authorization Code ---&lt;|               |</span><br><span class="line">+-|----|---+                                 +---------------+</span><br><span class="line">  |    |                                         ^      v</span><br><span class="line"> (A)  (C)                                        |      |</span><br><span class="line">  |    |                                         |      |</span><br><span class="line">  ^    v                                         |      |</span><br><span class="line">+---------+                                      |      |</span><br><span class="line">|         |&gt;---(D)-- Authorization Code ---------&apos;      |</span><br><span class="line">|  Client |          &amp; Redirection URI                  |</span><br><span class="line">|         |                                             |</span><br><span class="line">|         |&lt;---(E)----- Access Token -------------------&apos;</span><br><span class="line">+---------+       (w/ Optional Refresh Token)</span><br></pre></td></tr></table></figure>
<h3 id="Authorization-Request-…………………………25"><a href="#Authorization-Request-…………………………25" class="headerlink" title="Authorization Request …………………………25"></a>Authorization Request …………………………25</h3><h3 id="Authorization-Response-………………………-26"><a href="#Authorization-Response-………………………-26" class="headerlink" title="Authorization Response ………………………..26"></a>Authorization Response ………………………..26</h3><h3 id="Access-Token-Request-…………………………-29"><a href="#Access-Token-Request-…………………………-29" class="headerlink" title="Access Token Request ………………………….29"></a>Access Token Request ………………………….29</h3><h3 id="Access-Token-Response-…………………………30"><a href="#Access-Token-Response-…………………………30" class="headerlink" title="Access Token Response …………………………30"></a>Access Token Response …………………………30</h3><h2 id="Implicit-Grant"><a href="#Implicit-Grant" class="headerlink" title="Implicit Grant"></a>Implicit Grant</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">+----------+</span><br><span class="line">| Resource |</span><br><span class="line">|  Owner   |</span><br><span class="line">|          |</span><br><span class="line">+----------+</span><br><span class="line">     ^</span><br><span class="line">     |</span><br><span class="line">    (B)</span><br><span class="line">+----|-----+          Client Identifier     +---------------+</span><br><span class="line">|         -+----(A)-- &amp; Redirection URI ---&gt;|               |</span><br><span class="line">|  User-   |                                | Authorization |</span><br><span class="line">|  Agent  -|----(B)-- User authenticates --&gt;|     Server    |</span><br><span class="line">|          |                                |               |</span><br><span class="line">|          |&lt;---(C)--- Redirection URI ----&lt;|               |</span><br><span class="line">|          |          with Access Token     +---------------+</span><br><span class="line">|          |            in Fragment</span><br><span class="line">|          |                                +---------------+</span><br><span class="line">|          |----(D)--- Redirection URI ----&gt;|   Web-Hosted  |</span><br><span class="line">|          |          without Fragment      |     Client    |</span><br><span class="line">|          |                                |    Resource   |</span><br><span class="line">|     (F)  |&lt;---(E)------- Script ---------&lt;|               |</span><br><span class="line">|          |                                +---------------+</span><br><span class="line">+-|--------+</span><br><span class="line">  |    |</span><br><span class="line"> (A)  (G) Access Token</span><br><span class="line">  |    |</span><br><span class="line">  ^    v</span><br><span class="line">+---------+</span><br><span class="line">|         |</span><br><span class="line">|  Client |</span><br><span class="line">|         |</span><br><span class="line">+---------+</span><br></pre></td></tr></table></figure>
<h3 id="Authorization-Request-…………………………33"><a href="#Authorization-Request-…………………………33" class="headerlink" title="Authorization Request …………………………33"></a>Authorization Request …………………………33</h3><h3 id="Access-Token-Response-…………………………35"><a href="#Access-Token-Response-…………………………35" class="headerlink" title="Access Token Response …………………………35"></a>Access Token Response …………………………35</h3><h2 id="Resource-Owner-Password-Credentials-Grant"><a href="#Resource-Owner-Password-Credentials-Grant" class="headerlink" title="Resource Owner Password Credentials Grant"></a>Resource Owner Password Credentials Grant</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">+----------+</span><br><span class="line">| Resource |</span><br><span class="line">|  Owner   |</span><br><span class="line">|          |</span><br><span class="line">+----------+</span><br><span class="line">     v</span><br><span class="line">     |    Resource Owner</span><br><span class="line">    (A) Password Credentials</span><br><span class="line">     |</span><br><span class="line">     v</span><br><span class="line">+---------+                                  +---------------+</span><br><span class="line">|         |&gt;--(B)---- Resource Owner -------&gt;|               |</span><br><span class="line">|         |         Password Credentials     | Authorization |</span><br><span class="line">| Client  |                                  |     Server    |</span><br><span class="line">|         |&lt;--(C)---- Access Token ---------&lt;|               |</span><br><span class="line">|         |    (w/ Optional Refresh Token)   |               |</span><br><span class="line">+---------+                                  +---------------+</span><br></pre></td></tr></table></figure>
<h3 id="uthorization-Request-and-Response"><a href="#uthorization-Request-and-Response" class="headerlink" title="uthorization Request and Response"></a>uthorization Request and Response</h3><h3 id="Access-Token-Request"><a href="#Access-Token-Request" class="headerlink" title="Access Token Request"></a>Access Token Request</h3><h3 id="Access-Token-Response"><a href="#Access-Token-Response" class="headerlink" title="Access Token Response"></a>Access Token Response</h3><h2 id="Client-Credentials-Grant"><a href="#Client-Credentials-Grant" class="headerlink" title="Client Credentials Grant"></a>Client Credentials Grant</h2><h3 id="Authorization-Request-and-Response"><a href="#Authorization-Request-and-Response" class="headerlink" title="Authorization Request and Response"></a>Authorization Request and Response</h3><h3 id="Access-Token-Request-1"><a href="#Access-Token-Request-1" class="headerlink" title="Access Token Request"></a>Access Token Request</h3><h3 id="Access-Token-Response-1"><a href="#Access-Token-Response-1" class="headerlink" title="Access Token Response"></a>Access Token Response</h3><h3 id="Extension-Grants"><a href="#Extension-Grants" class="headerlink" title="Extension Grants"></a>Extension Grants</h3><h3 id="Issuing-an-Access-Token"><a href="#Issuing-an-Access-Token" class="headerlink" title="Issuing an Access Token"></a>Issuing an Access Token</h3><h3 id="Successful-Response"><a href="#Successful-Response" class="headerlink" title="Successful Response"></a>Successful Response</h3><h3 id="Error-Response"><a href="#Error-Response" class="headerlink" title="Error Response"></a>Error Response</h3><h2 id="Refreshing-an-Access-Token"><a href="#Refreshing-an-Access-Token" class="headerlink" title="Refreshing an Access Token"></a>Refreshing an Access Token</h2><h2 id="Accessing-Protected-Resources"><a href="#Accessing-Protected-Resources" class="headerlink" title="Accessing Protected Resources"></a>Accessing Protected Resources</h2><h3 id="Access-Token-Types"><a href="#Access-Token-Types" class="headerlink" title="Access Token Types"></a>Access Token Types</h3><h3 id="Error-Response-1"><a href="#Error-Response-1" class="headerlink" title="Error Response"></a>Error Response</h3><h2 id="Extensibility"><a href="#Extensibility" class="headerlink" title="Extensibility"></a>Extensibility</h2><h3 id="Defining-Access-Token-Types"><a href="#Defining-Access-Token-Types" class="headerlink" title="Defining Access Token Types"></a>Defining Access Token Types</h3><h3 id="Defining-New-Endpoint-Parameters"><a href="#Defining-New-Endpoint-Parameters" class="headerlink" title="Defining New Endpoint Parameters"></a>Defining New Endpoint Parameters</h3><h3 id="Defining-New-Authorization-Grant-Types"><a href="#Defining-New-Authorization-Grant-Types" class="headerlink" title="Defining New Authorization Grant Types"></a>Defining New Authorization Grant Types</h3><h3 id="Defining-New-Authorization-Endpoint-Response-Types"><a href="#Defining-New-Authorization-Endpoint-Response-Types" class="headerlink" title="Defining New Authorization Endpoint Response Types"></a>Defining New Authorization Endpoint Response Types</h3><h3 id="Defining-Additional-Error-Codes"><a href="#Defining-Additional-Error-Codes" class="headerlink" title="Defining Additional Error Codes"></a>Defining Additional Error Codes</h3><h2 id="Native-Applications"><a href="#Native-Applications" class="headerlink" title="Native Applications"></a>Native Applications</h2><h2 id="Security-Considerations"><a href="#Security-Considerations" class="headerlink" title="Security Considerations"></a>Security Considerations</h2><h3 id="Client-Authentication-2"><a href="#Client-Authentication-2" class="headerlink" title="Client Authentication"></a>Client Authentication</h3><h3 id="Client-Impersonation"><a href="#Client-Impersonation" class="headerlink" title="Client Impersonation"></a>Client Impersonation</h3><h3 id="Access-Tokens"><a href="#Access-Tokens" class="headerlink" title="Access Tokens"></a>Access Tokens</h3><h3 id="Refresh-Tokens"><a href="#Refresh-Tokens" class="headerlink" title="Refresh Tokens"></a>Refresh Tokens</h3><h3 id="Authorization-Codes"><a href="#Authorization-Codes" class="headerlink" title="Authorization Codes"></a>Authorization Codes</h3><h3 id="Authorization-Code-Redirection-URI-Manipulation"><a href="#Authorization-Code-Redirection-URI-Manipulation" class="headerlink" title="Authorization Code Redirection URI Manipulation"></a>Authorization Code Redirection URI Manipulation</h3><h3 id="Resource-Owner-Password-Credentials-1"><a href="#Resource-Owner-Password-Credentials-1" class="headerlink" title="Resource Owner Password Credentials"></a>Resource Owner Password Credentials</h3><h3 id="Request-Confidentiality"><a href="#Request-Confidentiality" class="headerlink" title="Request Confidentiality"></a>Request Confidentiality</h3><h3 id="Ensuring-Endpoint-Authenticity"><a href="#Ensuring-Endpoint-Authenticity" class="headerlink" title="Ensuring Endpoint Authenticity"></a>Ensuring Endpoint Authenticity</h3><h3 id="Credentials-Guessing-Attacks"><a href="#Credentials-Guessing-Attacks" class="headerlink" title="Credentials-Guessing Attacks"></a>Credentials-Guessing Attacks</h3><h3 id="Phishing-Attacks"><a href="#Phishing-Attacks" class="headerlink" title="Phishing Attacks"></a>Phishing Attacks</h3><h3 id="Cross-Site-Request-Forgery"><a href="#Cross-Site-Request-Forgery" class="headerlink" title="Cross-Site Request Forgery"></a>Cross-Site Request Forgery</h3><h3 id="Clickjacking"><a href="#Clickjacking" class="headerlink" title="Clickjacking"></a>Clickjacking</h3><h3 id="Code-Injection-and-Input-Validation"><a href="#Code-Injection-and-Input-Validation" class="headerlink" title="Code Injection and Input Validation"></a>Code Injection and Input Validation</h3><h3 id="Open-Redirectors"><a href="#Open-Redirectors" class="headerlink" title="Open Redirectors"></a>Open Redirectors</h3><h3 id="Misuse-of-Access-Token-to-Impersonate-Resource-Owner-in-Implicit-Flow"><a href="#Misuse-of-Access-Token-to-Impersonate-Resource-Owner-in-Implicit-Flow" class="headerlink" title="Misuse of Access Token to Impersonate Resource Owner in Implicit Flow"></a>Misuse of Access Token to Impersonate Resource Owner in Implicit Flow</h3><h2 id="IANA-Considerations-……………………………………-62"><a href="#IANA-Considerations-……………………………………-62" class="headerlink" title="IANA Considerations …………………………………….62"></a>IANA Considerations …………………………………….62</h2><pre><code>11.1. OAuth Access Token Types Registry ........................62
     11.1.1. Registration Template .............................62
11.2. OAuth Parameters Registry ................................63
     11.2.1. Registration Template .............................63
     11.2.2. Initial Registry Contents .........................64
11.3. OAuth Authorization Endpoint Response Types Registry .....66
     11.3.1. Registration Template .............................66
     11.3.2. Initial Registry Contents .........................67
11.4. OAuth Extensions Error Registry ..........................67
     11.4.1. Registration Template .............................68
</code></pre><ol>
<li>References …………………………………………….68<br>12.1. Normative References ……………………………….68<br>12.2. Informative References ……………………………..70<h1 id="Appendix-A-Augmented-Backus-Naur-Form-ABNF-Syntax-…………-71"><a href="#Appendix-A-Augmented-Backus-Naur-Form-ABNF-Syntax-…………-71" class="headerlink" title="Appendix A. Augmented Backus-Naur Form (ABNF) Syntax …………..71"></a>Appendix A. Augmented Backus-Naur Form (ABNF) Syntax …………..71</h1>A.1.  “client_id” Syntax ………………………………….71<br>A.2.  “client_secret” Syntax ………………………………71<br>A.3.  “response_type” Syntax ………………………………71<br>A.4.  “scope” Syntax ……………………………………..72<br>A.5.  “state” Syntax ……………………………………..72<br>A.6.  “redirect_uri” Syntax ……………………………….72<br>A.7.  “error” Syntax ……………………………………..72<br>A.8.  “error_description” Syntax …………………………..72<br>A.9.  “error_uri” Syntax ………………………………….72<br>A.10. “grant_type” Syntax …………………………………73<br>A.11. “code” Syntax ………………………………………73<br>A.12. “access_token” Syntax ……………………………….73<br>A.13. “token_type” Syntax …………………………………73<br>A.14. “expires_in” Syntax …………………………………73<br>A.15. “username” Syntax …………………………………..73<br>A.16. “password” Syntax …………………………………..73<br>A.17. “refresh_token” Syntax ………………………………74<br>A.18. Endpoint Parameter Syntax ……………………………74<br>Appendix B. Use of application/x-www-form-urlencoded Media Type …74<br>Appendix C. Acknowledgements ………………………………..75</li>
</ol>
  
	</div>
		<footer class="article-footer clearfix">
<div class="article-catetags">


</div>



	<div class="article-share" id="share">
	
	  <div data-url="https://immerser.github.io/2018/01/20/OAuth2官方文档阅读/" data-title="你家亮哥的学习笔记" data-tsina="" class="share clearfix">
	  </div>
	
	</div>


</footer>

   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2018/01/20/使用OPENSSL进行证书配置/" title="">
  <strong>上一篇：</strong><br/>
  <span>
  (no title)</span>
</a>
</div>


<div class="next">
<a href="/2018/01/20/spring_cloud_doc/"  title="">
 <strong>下一篇：</strong><br/> 
 <span>(no title)
</span>
</a>
</div>

</nav>

	



</div>  
      <div class="openaside"><a class="navbutton" href="#" title="Show Sidebar"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">Contents</strong>
 
 <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Introduction"><span class="toc-number">1.</span> <span class="toc-text">Introduction</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Roles"><span class="toc-number">1.1.</span> <span class="toc-text">Roles</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Protocol-Flow"><span class="toc-number">1.2.</span> <span class="toc-text">Protocol Flow</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Authorization-Grant"><span class="toc-number">1.3.</span> <span class="toc-text">Authorization Grant</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Authorization-Code"><span class="toc-number">1.3.0.1.</span> <span class="toc-text">Authorization Code</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Implicit"><span class="toc-number">1.3.0.2.</span> <span class="toc-text">Implicit</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Resource-Owner-Password-Credentials"><span class="toc-number">1.3.0.3.</span> <span class="toc-text">Resource Owner Password Credentials</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Client-Credentials"><span class="toc-number">1.3.0.4.</span> <span class="toc-text">Client Credentials</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Access-Token"><span class="toc-number">1.4.</span> <span class="toc-text">Access Token</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Refresh-Token"><span class="toc-number">1.5.</span> <span class="toc-text">Refresh Token</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#TLS-Version"><span class="toc-number">1.5.1.</span> <span class="toc-text">TLS Version</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HTTP-Redirections"><span class="toc-number">1.5.2.</span> <span class="toc-text">HTTP Redirections</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Interoperability"><span class="toc-number">1.5.3.</span> <span class="toc-text">Interoperability</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Notational-Conventions"><span class="toc-number">1.5.4.</span> <span class="toc-text">Notational Conventions</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Client-Registration"><span class="toc-number">1.6.</span> <span class="toc-text">Client Registration</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Client-Types"><span class="toc-number">1.6.1.</span> <span class="toc-text">Client Types</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Client-Identifier"><span class="toc-number">1.6.2.</span> <span class="toc-text">Client Identifier</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Client-Authentication"><span class="toc-number">1.6.3.</span> <span class="toc-text">Client Authentication</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Client-Password"><span class="toc-number">1.6.3.1.</span> <span class="toc-text">Client Password</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Other-Authentication-Methods"><span class="toc-number">1.6.4.</span> <span class="toc-text">Other Authentication Methods</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Unregistered-Clients"><span class="toc-number">1.6.5.</span> <span class="toc-text">Unregistered Clients</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Protocol-Endpoints"><span class="toc-number">1.7.</span> <span class="toc-text">Protocol Endpoints</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Authorization-Endpoint"><span class="toc-number">1.7.1.</span> <span class="toc-text">Authorization Endpoint</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Response-Type"><span class="toc-number">1.7.1.1.</span> <span class="toc-text">Response Type</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Redirection-Endpoint"><span class="toc-number">1.7.1.2.</span> <span class="toc-text">Redirection Endpoint</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Token-Endpoint"><span class="toc-number">1.7.2.</span> <span class="toc-text">Token Endpoint</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Client-Authentication-1"><span class="toc-number">1.7.2.1.</span> <span class="toc-text">Client Authentication</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Access-Token-Scope"><span class="toc-number">1.7.3.</span> <span class="toc-text">Access Token Scope</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Obtaining-Authorization"><span class="toc-number">2.</span> <span class="toc-text">Obtaining Authorization</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Authorization-Code-Grant"><span class="toc-number">2.1.</span> <span class="toc-text">Authorization Code Grant</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Authorization-Request-…………………………25"><span class="toc-number">2.1.1.</span> <span class="toc-text">Authorization Request …………………………25</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Authorization-Response-………………………-26"><span class="toc-number">2.1.2.</span> <span class="toc-text">Authorization Response ………………………..26</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Access-Token-Request-…………………………-29"><span class="toc-number">2.1.3.</span> <span class="toc-text">Access Token Request ………………………….29</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Access-Token-Response-…………………………30"><span class="toc-number">2.1.4.</span> <span class="toc-text">Access Token Response …………………………30</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Implicit-Grant"><span class="toc-number">2.2.</span> <span class="toc-text">Implicit Grant</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Authorization-Request-…………………………33"><span class="toc-number">2.2.1.</span> <span class="toc-text">Authorization Request …………………………33</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Access-Token-Response-…………………………35"><span class="toc-number">2.2.2.</span> <span class="toc-text">Access Token Response …………………………35</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Resource-Owner-Password-Credentials-Grant"><span class="toc-number">2.3.</span> <span class="toc-text">Resource Owner Password Credentials Grant</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#uthorization-Request-and-Response"><span class="toc-number">2.3.1.</span> <span class="toc-text">uthorization Request and Response</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Access-Token-Request"><span class="toc-number">2.3.2.</span> <span class="toc-text">Access Token Request</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Access-Token-Response"><span class="toc-number">2.3.3.</span> <span class="toc-text">Access Token Response</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Client-Credentials-Grant"><span class="toc-number">2.4.</span> <span class="toc-text">Client Credentials Grant</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Authorization-Request-and-Response"><span class="toc-number">2.4.1.</span> <span class="toc-text">Authorization Request and Response</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Access-Token-Request-1"><span class="toc-number">2.4.2.</span> <span class="toc-text">Access Token Request</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Access-Token-Response-1"><span class="toc-number">2.4.3.</span> <span class="toc-text">Access Token Response</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Extension-Grants"><span class="toc-number">2.4.4.</span> <span class="toc-text">Extension Grants</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Issuing-an-Access-Token"><span class="toc-number">2.4.5.</span> <span class="toc-text">Issuing an Access Token</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Successful-Response"><span class="toc-number">2.4.6.</span> <span class="toc-text">Successful Response</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Error-Response"><span class="toc-number">2.4.7.</span> <span class="toc-text">Error Response</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Refreshing-an-Access-Token"><span class="toc-number">2.5.</span> <span class="toc-text">Refreshing an Access Token</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Accessing-Protected-Resources"><span class="toc-number">2.6.</span> <span class="toc-text">Accessing Protected Resources</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Access-Token-Types"><span class="toc-number">2.6.1.</span> <span class="toc-text">Access Token Types</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Error-Response-1"><span class="toc-number">2.6.2.</span> <span class="toc-text">Error Response</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Extensibility"><span class="toc-number">2.7.</span> <span class="toc-text">Extensibility</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Defining-Access-Token-Types"><span class="toc-number">2.7.1.</span> <span class="toc-text">Defining Access Token Types</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Defining-New-Endpoint-Parameters"><span class="toc-number">2.7.2.</span> <span class="toc-text">Defining New Endpoint Parameters</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Defining-New-Authorization-Grant-Types"><span class="toc-number">2.7.3.</span> <span class="toc-text">Defining New Authorization Grant Types</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Defining-New-Authorization-Endpoint-Response-Types"><span class="toc-number">2.7.4.</span> <span class="toc-text">Defining New Authorization Endpoint Response Types</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Defining-Additional-Error-Codes"><span class="toc-number">2.7.5.</span> <span class="toc-text">Defining Additional Error Codes</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Native-Applications"><span class="toc-number">2.8.</span> <span class="toc-text">Native Applications</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Security-Considerations"><span class="toc-number">2.9.</span> <span class="toc-text">Security Considerations</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Client-Authentication-2"><span class="toc-number">2.9.1.</span> <span class="toc-text">Client Authentication</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Client-Impersonation"><span class="toc-number">2.9.2.</span> <span class="toc-text">Client Impersonation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Access-Tokens"><span class="toc-number">2.9.3.</span> <span class="toc-text">Access Tokens</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Refresh-Tokens"><span class="toc-number">2.9.4.</span> <span class="toc-text">Refresh Tokens</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Authorization-Codes"><span class="toc-number">2.9.5.</span> <span class="toc-text">Authorization Codes</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Authorization-Code-Redirection-URI-Manipulation"><span class="toc-number">2.9.6.</span> <span class="toc-text">Authorization Code Redirection URI Manipulation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Resource-Owner-Password-Credentials-1"><span class="toc-number">2.9.7.</span> <span class="toc-text">Resource Owner Password Credentials</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Request-Confidentiality"><span class="toc-number">2.9.8.</span> <span class="toc-text">Request Confidentiality</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Ensuring-Endpoint-Authenticity"><span class="toc-number">2.9.9.</span> <span class="toc-text">Ensuring Endpoint Authenticity</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Credentials-Guessing-Attacks"><span class="toc-number">2.9.10.</span> <span class="toc-text">Credentials-Guessing Attacks</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Phishing-Attacks"><span class="toc-number">2.9.11.</span> <span class="toc-text">Phishing Attacks</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Cross-Site-Request-Forgery"><span class="toc-number">2.9.12.</span> <span class="toc-text">Cross-Site Request Forgery</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Clickjacking"><span class="toc-number">2.9.13.</span> <span class="toc-text">Clickjacking</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Code-Injection-and-Input-Validation"><span class="toc-number">2.9.14.</span> <span class="toc-text">Code Injection and Input Validation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Open-Redirectors"><span class="toc-number">2.9.15.</span> <span class="toc-text">Open Redirectors</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Misuse-of-Access-Token-to-Impersonate-Resource-Owner-in-Implicit-Flow"><span class="toc-number">2.9.16.</span> <span class="toc-text">Misuse of Access Token to Impersonate Resource Owner in Implicit Flow</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IANA-Considerations-……………………………………-62"><span class="toc-number">2.10.</span> <span class="toc-text">IANA Considerations …………………………………….62</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Appendix-A-Augmented-Backus-Naur-Form-ABNF-Syntax-…………-71"><span class="toc-number">3.</span> <span class="toc-text">Appendix A. Augmented Backus-Naur Form (ABNF) Syntax …………..71</span></a></li></ol>
 
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="Hide Sidebar"></a></div>
<aside class="clearfix">

  


  
<div class="categorieslist">
	<p class="asidetitle">Categories</p>
		<ul>
		
		  
			<li><a href="/categories/cloud/" title="cloud">cloud<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/tools/cloud/" title="cloud">cloud<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/framework/" title="framework">framework<sup>7</sup></a></li>
		  
		
		  
			<li><a href="/categories/framwwork/" title="framwwork">framwwork<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/tools/" title="tools">tools<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/运维/" title="运维">运维<sup>6</sup></a></li>
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">Tags</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/运维/" title="运维">运维<sup>8</sup></a></li>
			
		
			
				<li><a href="/tags/doc/" title="doc">doc<sup>7</sup></a></li>
			
		
			
				<li><a href="/tags/cloud/" title="cloud">cloud<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/dev-ops/" title="dev ops">dev ops<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/ansible/" title="ansible">ansible<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/consul/" title="consul">consul<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/docker/" title="docker">docker<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/spring-boot/" title="spring boot">spring boot<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/kubernetes/" title="kubernetes">kubernetes<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/ReactiveX/" title="ReactiveX">ReactiveX<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/framework/" title="framework">framework<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/docker-compose/" title="docker compose">docker compose<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/dockerfile/" title="dockerfile">dockerfile<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/spring-cloud/" title="spring cloud">spring cloud<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/spirng/" title="spirng">spirng<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/cache/" title="cache">cache<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/nomad/" title="nomad">nomad<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/zabbix/" title="zabbix">zabbix<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/monitro/" title="monitro">monitro<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/elastic-search/" title="elastic search">elastic search<sup>1</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">Links</p>
    <ul>
        
          <li>
            
            	<a href="https://coderq.com" target="_blank" title="一个面向程序员交流分享的新一代社区">码农圈</a>
            
          </li>
        
          <li>
            
            	<a href="http://wuchong.me" target="_blank" title="Jark&#39;s Blog">Jark&#39;s Blog</a>
            
          </li>
        
    </ul>
</div>

  


  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS</a>
</div>

  <div class="weiboshow">
  <p class="asidetitle">Weibo</p>
    <iframe width="100%" height="119" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=119&fansRow=2&ptype=1&speed=0&skin=9&isTitle=1&noborder=1&isWeibo=0&isFans=0&uid=&verifier=b3593ceb&dpc=1"></iframe>
</div>


</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> Hello ,I&#39;m immerser. <br/>
			This is my blog,study with me.</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		<a href="http://weibo.com/2176287895" target="_blank" class="icon-weibo" title="微博"></a>
		
		
		
		
		
		
		
		
		
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2018 
		
		<a href="/about" target="_blank" title="你家亮哥">你家亮哥</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  c.click(function(){
    ta.css('display', 'block').addClass('fadeIn');
  });
  o.click(function(){
    ta.css('display', 'none');
  });
  $(window).scroll(function(){
    ta.css("top",Math.max(140,320-$(this).scrollTop()));
  });
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina'),
      description = $this.attr('description');
  var html = [
  '<div class="hoverqrcode clearfix"></div>',
  '<a class="overlay" id="qrcode"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="微信"></a>',
  '<a href="http://widget.renren.com/dialog/share?resourceUrl=' + encodedUrl + '&srcUrl=' + encodedUrl + '&title=' + title +'" class="article-share-renren" target="_blank" title="人人"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="微博"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);

  $('.hoverqrcode').hide();

  var myWidth = 0;
  function updatehoverqrcode(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
    var qrsize = myWidth > 1024 ? 200:100;
    var options = {render: 'image', size: qrsize, fill: '#2ca6cb', text: url, radius: 0.5, quiet: 1};
    var p = $('.article-share-qrcode').position();
    $('.hoverqrcode').empty().css('width', qrsize).css('height', qrsize)
                          .css('left', p.left-qrsize/2+20).css('top', p.top-qrsize-10)
                          .qrcode(options);
  };
  $(window).resize(function(){
    $('.hoverqrcode').hide();
  });
  $('.article-share-qrcode').click(function(){
    updatehoverqrcode();
    $('.hoverqrcode').toggle();
  });
  $('.article-share-qrcode').hover(function(){}, function(){
      $('.hoverqrcode').hide();
  });
});   
</script>











<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->



<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?e6d1f421bbc9962127a50488f9ed37d1";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>



<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="Back to Top"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
</html>
